(this["webpackJsonpview-app"]=this["webpackJsonpview-app"]||[]).push([[0],{103:function(e,a,t){e.exports=t(118)},108:function(e,a,t){},109:function(e,a,t){},118:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),c=t(9),o=t.n(c),i=(t(108),t(109),t(157)),s=t(160),l=t(162),u=t(119),m=t(163),p=t(77),d=t.n(p),f=Object(i.a)((function(e){return{root:{flexGrow:1},menuButton:{marginRight:e.spacing(2)},title:{flexGrow:1}}}));function h(){var e=f();return r.a.createElement("div",{className:e.root},r.a.createElement(s.a,{position:"static"},r.a.createElement(l.a,null,r.a.createElement(m.a,{edge:"start",className:e.menuButton,color:"inherit","aria-label":"menu"},r.a.createElement(d.a,null)),r.a.createElement(u.a,{variant:"h6",className:e.title},"Hotel Packages"))))}var v=t(10),g=t.n(v),b=t(18),E=t(41),y=t(166),x=t(168),w=t(167),j=t(165),k=function(){var e=Object(b.a)(g.a.mark((function e(){var a;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/api/hotels");case 2:return a=e.sent,e.next=5,a.json();case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),O=function(){var e=Object(b.a)(g.a.mark((function e(){var a;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/api/packages");case 2:return a=e.sent,e.next=5,a.json();case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),_=function(){var e=Object(b.a)(g.a.mark((function e(a){var t;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/api/packages/"+a);case 2:return t=e.sent,e.next=5,t.json();case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),C=function(){var e=Object(b.a)(g.a.mark((function e(a){var t,n;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=a._id,delete a._id,e.next=4,fetch("/api/packages/"+t,{method:"PUT",mode:"cors",cache:"no-cache",headers:{"Content-Type":"application/json"},referrerPolicy:"no-referrer",body:JSON.stringify(a)});case 4:return n=e.sent,e.next=7,n.json();case 7:return e.abrupt("return",e.sent);case 8:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),N=function(){var e=Object(b.a)(g.a.mark((function e(a){var t;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/api/packages",{method:"POST",mode:"cors",cache:"no-cache",headers:{"Content-Type":"application/json"},referrerPolicy:"no-referrer",body:JSON.stringify(a)});case 2:return t=e.sent,e.next=5,t.json();case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),P=function(){var e=Object(b.a)(g.a.mark((function e(a){var t;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/api/packages/"+a,{method:"DELETE"});case 2:return t=e.sent,e.next=5,t.json();case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),D=t(164),S=t(52),T=t(79),B=t.n(T),M=t(78),W=t.n(M),L=t(80),Y=t.n(L),q=t(179),H=t(176);function I(e){return r.a.createElement(H.a,Object.assign({elevation:6,variant:"filled"},e))}function J(e){return r.a.createElement(q.a,{anchorOrigin:{vertical:"bottom",horizontal:"left"},open:e.open,autoHideDuration:6e3,onClose:e.handleClose},r.a.createElement(I,{onClose:e.handleClose,severity:e.severity||"success"},e.message))}var U=Object(i.a)((function(e){return{container_root:{flexGrow:1},root:{margin:e.spacing(1)},bullet:{display:"inline-block",margin:"0 2px",transform:"scale(0.8)"},title:{fontSize:14},pos:{marginBottom:12},valid:{marginTop:12},button:{margin:e.spacing(1)}}})),F=function(){var e=U(),a=Object(n.useState)([]),t=Object(E.a)(a,2),c=t[0],o=t[1],i=Object(n.useState)({open:!1,severity:"success",message:""}),s=Object(E.a)(i,2),l=s[0],m=s[1];Object(n.useEffect)((function(){Object(b.a)(g.a.mark((function e(){var a;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O();case 2:a=e.sent,o(a.reverse());case 4:case"end":return e.stop()}}),e)})))()}),[]);var p=function(){var e=Object(b.a)(g.a.mark((function e(a){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,P(a);case 3:m({open:!0,severity:"success",message:"Success!!"}),o(c.filter((function(e){return e._id!==a}))),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),m({open:!0,severity:"error",message:"Try Again!!"});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(a){return e.apply(this,arguments)}}();return r.a.createElement(r.a.Fragment,null,r.a.createElement(J,{open:l.open,severity:l.severity,message:l.message,handleClose:function(){m({open:!1})}}),r.a.createElement(D.a,{container:!0,className:e.container_root,spacing:3},r.a.createElement(D.a,{item:!0,xs:11,container:!0,justify:"flex-end"},r.a.createElement(j.a,{variant:"contained",color:"primary",href:"/create",className:e.button,startIcon:r.a.createElement(W.a,null)},"Create")),c.map((function(a,t){return r.a.createElement(D.a,{item:!0,xs:4,key:t,className:e.root},r.a.createElement(y.a,null,r.a.createElement(w.a,null,r.a.createElement(u.a,{className:e.title,color:"textSecondary",gutterBottom:!0},a.hotel_info.name||""),r.a.createElement(u.a,{variant:"h5",component:"h2"},a.name.toUpperCase()),r.a.createElement(u.a,{className:e.pos,color:"textSecondary"},a.duration_days," Days ",a.duration_days-1||0," Nights"),r.a.createElement(u.a,{variant:"body2",component:"p",style:{minHeight:120}},a.description),r.a.createElement(u.a,{className:e.valid},"Valid Till:  ",S(a.valid_to).format("Do MMM YYYY"))),r.a.createElement(x.a,null,r.a.createElement(j.a,{variant:"contained",color:"primary",className:e.button,startIcon:r.a.createElement(B.a,null),href:"/edit?id=".concat(a._id)},"Edit"),r.a.createElement(j.a,{variant:"contained",color:"secondary",onClick:function(){return p(a._id)},className:e.button,startIcon:r.a.createElement(Y.a,null)},"Delete"))))}))))},G=t(65),R=t(46),V=t(169),z=t(69),K=t(177),A=t(175),$=t(182),Q=t(174),X=Object(i.a)((function(e){return{appBar:{position:"relative"},layout:Object(R.a)({width:"auto",marginLeft:e.spacing(2),marginRight:e.spacing(2)},e.breakpoints.up(600+2*e.spacing(2)),{width:600}),paper:Object(R.a)({marginTop:e.spacing(3),marginBottom:e.spacing(3),padding:e.spacing(2)},e.breakpoints.up(600+2*e.spacing(3)),{marginTop:e.spacing(6),marginBottom:e.spacing(6),padding:e.spacing(3)}),stepper:{padding:e.spacing(3,0,5)},buttons:{display:"flex",justifyContent:"flex-end"},button:{marginTop:e.spacing(3),marginLeft:e.spacing(1)}}})),Z=function(){var e=Object(b.a)(g.a.mark((function e(a){var t,n,r;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t={},"edit"!==a){e.next=6;break}return n=ae("id"),e.next=5,_(n);case 5:t=e.sent;case 6:return e.next=8,k();case 8:return r=e.sent,e.abrupt("return",[r,t]);case 10:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),ee=function(){var e=Object(b.a)(g.a.mark((function e(a,t,n){var r,c,o;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r={valid_from:new Date,valid_to:S().add(1,"d").toDate(),price:"",hotel_id:"",duration_days:"",name:"",description:""},"edit"!==a){e.next=8;break}return delete t.hotel_info,e.next=5,C(t);case 5:return c=e.sent,n(r),e.abrupt("return",c);case 8:return e.next=10,N(t);case 10:return o=e.sent,n(r),e.abrupt("return",o);case 13:case"end":return e.stop()}}),e)})));return function(a,t,n){return e.apply(this,arguments)}}(),ae=function(e){return new URLSearchParams(window.location.search).get(e)},te=function(e){var a=X(),t=Object(n.useState)({valid_from:new Date,valid_to:S().add(1,"d").toDate(),price:"",hotel_id:"",duration_days:"",name:"",description:""}),c=Object(E.a)(t,2),o=c[0],i=c[1],s=Object(n.useState)([]),l=Object(E.a)(s,2),m=l[0],p=l[1],d=function(e){return function(a){"valid_from"!==e&&"valid_to"!==e||(a={target:{value:a}}),i(Object(G.a)({},o,Object(R.a)({},e,a.target.value)))}};return Object(n.useEffect)((function(){Object(b.a)(g.a.mark((function a(){var t,n,c,o,s;return g.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,Z(e.mode);case 2:t=a.sent,n=Object(E.a)(t,2),c=n[0],o=n[1],s=c.map((function(e){return r.a.createElement($.a,{key:e._id,value:e._id},e.name)})),p(s),"edit"===e.mode&&i(Object(G.a)({},o,{valid_from:new Date(o.valid_from),valid_to:new Date(o.valid_to)}));case 9:case"end":return a.stop()}}),a)})))()}),[e.mode]),r.a.createElement(r.a.Fragment,null,r.a.createElement(V.a,null),r.a.createElement("main",{className:a.layout},r.a.createElement(z.a,{className:a.paper},r.a.createElement(u.a,{component:"h1",variant:"h4",align:"left"},"Create Package"),r.a.createElement(D.a,{style:{marginTop:30},container:!0,spacing:3},r.a.createElement(D.a,{item:!0,xs:12,md:6},r.a.createElement(A.a,{label:"Name od Hote",value:o.hotel_id,onChange:d("hotel_id"),fullWidth:!0},m)),r.a.createElement(D.a,{item:!0,xs:12,md:6},r.a.createElement(K.a,{required:!0,value:o.name,fullWidth:!0,placeholder:"Package Name",onChange:d("name")})),r.a.createElement(D.a,{item:!0,xs:12,md:6},r.a.createElement(K.a,{required:!0,placeholder:"Package Price",value:o.price,fullWidth:!0,onChange:d("price")})),r.a.createElement(D.a,{item:!0,xs:12,md:6},r.a.createElement(K.a,{required:!0,placeholder:"Package Duration Days",value:o.duration_days,fullWidth:!0,onChange:d("duration_days")})),r.a.createElement(D.a,{item:!0,xs:12,md:6},r.a.createElement(Q.a,{margin:"normal",id:"date-picker-dialog",label:"Package Valid From",format:"MM/dd/yyyy",value:o.valid_from,onChange:d("valid_from"),KeyboardButtonProps:{"aria-label":"change date"}})),r.a.createElement(D.a,{item:!0,xs:12,md:6},r.a.createElement(Q.a,{margin:"normal",label:"Package Valid until",format:"MM/dd/yyyy",value:o.valid_to,onChange:d("valid_to"),KeyboardButtonProps:{"aria-label":"change date"}})),r.a.createElement(D.a,{item:!0,xs:12},r.a.createElement(K.a,{required:!0,multiline:!0,rows:"4",fullWidth:!0,placeholder:"Description",value:o.description,onChange:d("description")})),r.a.createElement(D.a,{item:!0,xs:12},r.a.createElement(j.a,{variant:"contained",color:"primary",onClick:ee.bind(null,e.mode,o,i)},"edit"===e.mode?"Update":"Save"))))))},ne=t(16),re=t(85),ce=t(178),oe=t(173),ie=function(e){console.info("You clicked a breadcrumb.")},se=Object(i.a)((function(e){return{root:{margin:e.spacing(2)}}})),le=function(){var e=se(),a=function(){var e=window.location.pathname.match(/edit/gi);return e&&e.length?"Edit":(e=window.location.pathname.match(/create/gi))&&e.length?"Create":"List"}();return r.a.createElement(ce.a,{"aria-label":"breadcrumb",className:e.root},r.a.createElement(oe.a,{color:"inherit",href:"/",onClick:ie},"Package"),r.a.createElement(u.a,{color:"textPrimary"},a))},ue=t(83),me=t(36),pe=function(e){return r.a.createElement(ne.a,{utils:re.a},r.a.createElement(h,null),r.a.createElement(le,null),r.a.createElement(ue.a,null,r.a.createElement(me.c,null,r.a.createElement(me.a,{excat:!0,path:"/edit"},r.a.createElement(te,{mode:"edit"})),r.a.createElement(me.a,{excat:!0,path:"/create"},r.a.createElement(te,{mode:"create"})),r.a.createElement(me.a,{excat:!0,path:"/"},r.a.createElement(F,null)))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(pe,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[103,1,2]]]);
//# sourceMappingURL=main.36872f79.chunk.js.map